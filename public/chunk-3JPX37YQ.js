import{a as E,b as w}from"./chunk-E62EBHYI.js";import{A as h,E as m,F as t,G as o,H as C,K as v,L as g,M as l,R as d,S as s,T as _,U as p,ka as S,la as P,m as f,n as x,oa as M,t as a,ta as A,v as b,w as O}from"./chunk-RPINSWGJ.js";import"./chunk-LJ5XHLMQ.js";import"./chunk-FK42CRUA.js";function T(r,i){if(r&1){let e=v();t(0,"div",20),g("click",function(){let c=f(e).$implicit,u=l(2);return x(u.seleccionarLetra(c))}),t(1,"span"),s(2),o()()}if(r&2){let e=i.$implicit,n=l(2);d("disabled",n.juegoTerminado||n.letrasSeleccionadas.includes(e)),a(2),_(e)}}function j(r,i){if(r&1){let e=v();t(0,"div",20),g("click",function(){let c=f(e).$implicit,u=l(2);return x(u.seleccionarLetra(c))}),t(1,"span"),s(2),o()()}if(r&2){let e=i.$implicit,n=l(2);d("disabled",n.juegoTerminado||n.letrasSeleccionadas.includes(e)),a(2),_(e)}}function y(r,i){if(r&1){let e=v();t(0,"div",20),g("click",function(){let c=f(e).$implicit,u=l(2);return x(u.seleccionarLetra(c))}),t(1,"span"),s(2),o()()}if(r&2){let e=i.$implicit,n=l(2);d("disabled",n.juegoTerminado||n.letrasSeleccionadas.includes(e)),a(2),_(e)}}function k(r,i){if(r&1&&(t(0,"div")(1,"div",6)(2,"div",7)(3,"p",8),s(4),o()(),t(5,"div",9),C(6,"img",10)(7,"img",11)(8,"img",12)(9,"img",13)(10,"img",14)(11,"img",15)(12,"img",16),o()(),t(13,"div",17)(14,"div",18),h(15,T,3,3,"div",19),o(),t(16,"div",18),h(17,j,3,3,"div",19),o(),t(18,"div",18),h(19,y,3,3,"div",19),o()(),t(20,"p"),s(21),o(),t(22,"p"),s(23),o(),t(24,"p"),s(25),o(),t(26,"p"),s(27),o()()),r&2){let e=l();a(4),_(e.palabraOculta),a(3),d("visible",e.errores==1),a(),d("visible",e.errores==2),a(),d("visible",e.errores==3),a(),d("visible",e.errores==4),a(),d("visible",e.errores==5),a(),d("visible",e.intentosRestantes===0),a(3),m("ngForOf",e.fila1),a(2),m("ngForOf",e.fila2),a(2),m("ngForOf",e.fila3),a(2),p("Intentos restantes: ",e.intentosRestantes),a(2),p("Aciertos: ",e.aciertos),a(2),p("Errores: ",e.errores),a(2),p("Errores totales: ",e.erroresTotales)}}function z(r,i){if(r&1){let e=v();t(0,"div",21)(1,"h1"),s(2,"\xA1Perdiste!"),o(),t(3,"div",9),C(4,"img",22)(5,"img",23),o(),t(6,"p"),s(7),o(),t(8,"p"),s(9),o(),t(10,"button",24),g("click",function(){f(e);let c=l();return x(c.inicializarJuego())}),s(11,"Jugar de nuevo"),o()()}if(r&2){let e=l();a(7),p("Aciertos: ",e.aciertos),a(2),p("Errores: ",e.errores)}}var I=class r{constructor(i,e,n){this.dbService=i;this.authService=e;this.router=n}letras=[];palabraSecreta="";palabraOculta="";intentosRestantes=6;juegoTerminado=!1;mensaje="";fila1=["Q","W","E","R","T","Y","U","I","O","P"];fila2=["A","S","D","F","G","H","J","K","L"];fila3=["Z","X","C","V","B","N","M"];errores=0;aciertos=0;letrasSeleccionadas=[];erroresTotales=0;usuario="Jugador1";userSub;ngOnInit(){this.userSub=this.authService.user$.subscribe(i=>{this.usuario=i}),this.inicializarJuego()}ngOnDestroy(){this.userSub&&this.userSub.unsubscribe()}inicializarJuego(){this.errores=0,this.letras="ABCDEFGHIJKLMNOPQRSTUVWXYZ".split("");let i=["ANGULAR","AHORCADO","JUEGO","PROGRAMACION","COMPONENTE","WEB","LABORATORIO","USUARIO","TYPESCRIPT","SERVICIO","APLICACION","HORCA","PALABRA"];this.palabraSecreta=i[Math.floor(Math.random()*i.length)],this.palabraOculta="_".repeat(this.palabraSecreta.length),this.intentosRestantes=6,this.juegoTerminado=!1,this.mensaje="",this.letrasSeleccionadas=[]}seleccionarLetra(i){if(this.juegoTerminado||this.letrasSeleccionadas.includes(i))return;this.letrasSeleccionadas.push(i);let e=!1,n="";for(let c=0;c<this.palabraSecreta.length;c++)this.palabraSecreta[c]===i?(n+=i,e=!0):n+=this.palabraOculta[c];this.palabraOculta=n,e||(this.intentosRestantes--,this.errores++),this.verificarEstadoJuego()}verificarEstadoJuego(){this.palabraOculta===this.palabraSecreta?(this.aciertos++,this.mensaje="\xA1Ganaste!",this.juegoTerminado=!0):this.intentosRestantes===0&&setTimeout(()=>{this.mensaje=`\xA1Perdiste! La palabra era: ${this.palabraSecreta}`,this.juegoTerminado=!0,this.erroresTotales+=this.errores,this.dbService.guardarStatsAhorcado(this.usuario,this.aciertos,this.erroresTotales).then(i=>{i?console.error("Error al guardar las estad\xEDsticas:",i):console.log("Estad\xEDsticas guardadas exitosamente.")})},600)}volver(){this.router.navigate(["/home"])}static \u0275fac=function(e){return new(e||r)(b(E),b(w),b(A))};static \u0275cmp=O({type:r,selectors:[["app-ahorcado"]],decls:10,vars:2,consts:[[1,"ahorcado-container"],["routerLink","/home","title","Volver al inicio",1,"volver-home-btn",3,"click"],[2,"font-size","1.5em","vertical-align","middle"],[1,"titulo-seccion"],[4,"ngIf"],["class","resultado-final",4,"ngIf"],[1,"juego-layout"],[1,"contenedor-palabra"],[1,"palabra"],[1,"imagen-ahorcado"],["src","/ahorcado/01.png",1,"pieza","visible"],["src","/ahorcado/02.png",1,"pieza","pieza-ajustada"],["src","/ahorcado/03.png",1,"pieza","pieza-ajustada"],["src","/ahorcado/04.png",1,"pieza","pieza-ajustada"],["src","/ahorcado/05.png",1,"pieza","pieza-ajustada"],["src","/ahorcado/06.png",1,"pieza","pieza-ajustada"],["src","/ahorcado/07.png",1,"pieza","pieza-ajustada"],[1,"teclado"],[1,"fila"],["class","button",3,"disabled","click",4,"ngFor","ngForOf"],[1,"button",3,"click"],[1,"resultado-final"],["src","/ahorcado/01.png",1,"visible"],["src","/ahorcado/07.png",1,"visible","final"],[1,"btn",3,"click"]],template:function(e,n){e&1&&(t(0,"div",0)(1,"button",1),g("click",function(){return n.volver()}),t(2,"span",2),s(3,"\u2190"),o(),s(4," Home "),o(),t(5,"div",3)(6,"h1"),s(7,"Ahorcado"),o()(),h(8,k,28,20,"div",4)(9,z,12,2,"div",5),o()),e&2&&(a(8),m("ngIf",!(n.juegoTerminado&&n.intentosRestantes===0)),a(),m("ngIf",n.juegoTerminado&&n.intentosRestantes===0))},dependencies:[M,S,P],styles:[".volver-home-btn[_ngcontent-%COMP%]{position:absolute;top:24px;left:24px;display:flex;align-items:center;gap:6px;background:linear-gradient(90deg,#818cf8,#6366f1);color:#fff;font-weight:600;padding:8px 18px;border-radius:8px;text-decoration:none;box-shadow:0 2px 8px #6366f11a;transition:background .2s,transform .1s;z-index:10}.volver-home-btn[_ngcontent-%COMP%]:hover{background:linear-gradient(90deg,#6366f1,#818cf8);transform:translateY(-2px) scale(1.03)}.ahorcado-container[_ngcontent-%COMP%]{position:relative}.ahorcado-container[_ngcontent-%COMP%]{text-align:center;padding:20px}.titulo-seccion[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2em;color:#000;text-shadow:0 0 5px #709da8;margin-bottom:30px}.palabra[_ngcontent-%COMP%]{font-size:4em;letter-spacing:15px;font-family:monospace;color:#fff;margin:0}.teclado[_ngcontent-%COMP%]{margin:10px auto}.fila[_ngcontent-%COMP%]{display:flex;justify-content:center;flex-wrap:nowrap;gap:12px;margin-bottom:12px}.button[_ngcontent-%COMP%]{background-image:linear-gradient(to top,#f4f1ee,#fff);border-radius:50%;box-shadow:0 8px 10px #0000004d,inset 0 4px 1px 1px #fff,inset 0 -3px 1px 1px #ccc6c580;width:60px;height:60px;display:flex;justify-content:center;align-items:center;font-size:1.3em;font-weight:700;cursor:pointer;transition:all .1s linear;-webkit-user-select:none;user-select:none}.button[_ngcontent-%COMP%]:hover{background-image:linear-gradient(to top,#fff,#f4f1ee);color:#08c}.button[_ngcontent-%COMP%]:active{background-image:linear-gradient(to top,#efedec,#f7f4f4);box-shadow:0 3px 5px #0006,inset 0 -3px 1px 1px #ccc6c580}.button.disabled[_ngcontent-%COMP%]{opacity:.4;pointer-events:none}.resultado[_ngcontent-%COMP%]{margin-top:20px}.pieza-visible[_ngcontent-%COMP%]{top:500px}.btn[_ngcontent-%COMP%]{color:#101832;cursor:pointer;display:inline-block;letter-spacing:.075em;padding:.8em 1em;text-transform:uppercase;border:3px solid;border-image:linear-gradient(45deg,#00bcdd,#f0f);border-image-slice:1;background-color:#fff;transition:all .2s ease-in-out;margin:15px}.btn[_ngcontent-%COMP%]:hover{transform:translate(.5em,-.5em);box-shadow:-1em 1em .15em #1018321a}.juego-layout[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;flex-wrap:wrap;margin:0 auto;max-width:1000px;gap:20px}.imagen-ahorcado[_ngcontent-%COMP%]{position:relative;width:300px;height:300px}.imagen-ahorcado[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:auto;opacity:0;transition:opacity .3s ease-in-out}.imagen-ahorcado[_ngcontent-%COMP%]   img.pieza-ajustada[_ngcontent-%COMP%]{top:50px;left:-14px}.final[_ngcontent-%COMP%]{top:55px!important;left:78px!important;margin-left:0!important;transform:none!important}.imagen-ahorcado[_ngcontent-%COMP%]   img.visible[_ngcontent-%COMP%]{opacity:1}.contenedor-palabra[_ngcontent-%COMP%]{min-width:300px;display:flex;justify-content:center;align-items:center;padding:20px 30px;border-radius:12px;background:linear-gradient(135deg,#1e293b,#700c82);box-shadow:0 4px 15px #00000072;margin:0 auto}.resultado-final[_ngcontent-%COMP%]{margin-top:40px;padding:30px;border-radius:12px;box-shadow:0 4px 12px #f003;background:#00000087;max-width:450px;margin-left:50%;transform:translate(-50%);justify-content:center;align-items:center}.resultado-final[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2em;color:#ff3eaf;text-shadow:0 0 5px #ae1c0f}.resultado-final[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:20px;color:#ff3eaf;text-shadow:0 0 5px #ae1c0f}.resultado-final[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{margin-left:80%;transform:translate(-50%)}"]})};export{I as AhorcadoComponent};
