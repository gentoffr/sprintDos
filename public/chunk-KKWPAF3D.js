import{a as y}from"./chunk-QFGGB7IB.js";import{l as C}from"./chunk-BAZ4NSDX.js";import{a as _,b as M}from"./chunk-R2EKE5OG.js";import"./chunk-LJ5XHLMQ.js";import{g as v,k as x,m as P,n as O}from"./chunk-JRCBR5DE.js";import{$a as b,Pa as c,Qa as i,Ra as o,Sa as f,hb as r,jb as h,pa as a,pb as u,ua as s,ya as d}from"./chunk-FPBQHEPO.js";import{h as l}from"./chunk-FK42CRUA.js";var m=()=>({exact:!0}),S=class p{constructor(t,e,n){this.authService=t;this.supabaseService=e;this.paisService=n}user=null;subscriptions=[];usuariosPais={};paises=[];ngOnInit(){return l(this,null,function*(){let t=this.authService.user$.subscribe(e=>{this.user=e});this.subscriptions.push(t),yield this.loadUsuariosPais()})}loadUsuariosPais(){return l(this,null,function*(){try{let t=yield this.supabaseService.getUsers();this.usuariosPais={};for(let e of t)this.usuariosPais[e.email]=e.pais}catch{this.usuariosPais={}}})}getBanderaPais(t){let e=this.usuariosPais[t];return e?`https://flagcdn.com/24x18/${e}.png`:null}getNombrePais(t){let e=this.usuariosPais[t];if(!e)return null;let n=this.paises.find(g=>g.codigo===e);return n?n.nombre:null}ngOnDestroy(){this.subscriptions.forEach(t=>t.unsubscribe())}logout(){this.authService.logout().then(()=>{this.authService.redirectToLogin()})}static \u0275fac=function(e){return new(e||p)(s(M),s(_),s(y))};static \u0275cmp=d({type:p,selectors:[["app-home"]],decls:19,vars:7,consts:[[1,"navbar"],[1,"logo"],[1,"nav-links"],["routerLinkActive","active",3,"routerLinkActiveOptions"],["routerLink","/home/juegos"],["routerLink","/home/quien-soy"],["routerLink","/contact"],["type","button",3,"click"]],template:function(e,n){e&1&&(i(0,"nav",0)(1,"div",1),r(2,"Dragon bolseta"),o(),i(3,"ul",2)(4,"li"),r(5),o(),i(6,"li",3)(7,"a",4),r(8,"Sala de juegos"),o()(),i(9,"li",3)(10,"a",5),r(11,"\xBFQuien soy?"),o()(),i(12,"li",3)(13,"a",6),r(14,"Contacto"),o()(),i(15,"li")(16,"button",7),b("click",function(){return n.logout()}),r(17,"Cerrar Sesi\xF3n "),o()()()(),f(18,"router-outlet")),e&2&&(a(5),h("Hola, ",n.user==null?null:n.user.email),a(),c("routerLinkActiveOptions",u(4,m)),a(3),c("routerLinkActiveOptions",u(5,m)),a(3),c("routerLinkActiveOptions",u(6,m)))},dependencies:[P,C,v,x,O],styles:[".html[_ngcontent-%COMP%], body[_ngcontent-%COMP%]{margin:0;padding:0}.navbar[_ngcontent-%COMP%]{width:100vw;margin:0;box-sizing:border-box;display:flex;justify-content:space-between;align-items:center;background-color:#1e293b;color:#fff;padding:0 2rem;min-height:56px;box-shadow:0 2px 4px #0003}.logo[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:700}.nav-links[_ngcontent-%COMP%]{list-style:none;justify-content:center;align-items:stretch;display:flex;gap:1.5rem;margin:0;padding:0}.nav-links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#fff;text-decoration:none;font-weight:500;transition:opacity .2s}.nav-links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{opacity:.7}.nav-links[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{display:flex;align-items:center;padding:1rem}.container[_ngcontent-%COMP%]{max-width:1000px;margin:2rem auto;padding:0 1rem;text-align:center}.game-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:1.5rem;margin-top:2rem}.game-card[_ngcontent-%COMP%]{background:#f8fafc;border:2px solid #e2e8f0;border-radius:1rem;padding:2rem 1rem;cursor:pointer;box-shadow:0 2px 6px #0000001a;transition:transform .2s,box-shadow .2s}.game-card[_ngcontent-%COMP%]:hover{transform:translateY(-4px);box-shadow:0 4px 12px #00000026}.game-card[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0;font-size:1.3rem;color:#1e293b}button[type=button][_ngcontent-%COMP%]:hover{background:linear-gradient(90deg,#3aa392 60%,#1a997d);transform:translateY(-2px) scale(1.03)}button[type=button][_ngcontent-%COMP%]{margin-top:.5rem;padding:.8rem;background:#a50505;color:#fff;border:none;border-radius:8px;font-size:1.1rem;font-weight:600;cursor:pointer;box-shadow:0 2px 8px #5e6fff14;transition:background .2s,transform .1s}.nav-links[_ngcontent-%COMP%]   li.active[_ngcontent-%COMP%]{background:linear-gradient(180deg,#7297c7,#495e8a);font-weight:700}.btn-row[_ngcontent-%COMP%]{display:flex;gap:.75rem;justify-content:center;flex-wrap:wrap}.toggle-btn[_ngcontent-%COMP%], .select-btn[_ngcontent-%COMP%]{background:linear-gradient(180deg,#fff,#f3f4f6);color:#111827;border:2px solid #e5e7eb;padding:.6rem 1rem;border-radius:10px;box-shadow:0 2px 6px #1018280f;font-weight:600}.toggle-btn.pressed[_ngcontent-%COMP%], .select-btn.pressed[_ngcontent-%COMP%]{background:linear-gradient(180deg,#0ea5a4,#087f79);color:#fff;border-color:#066b66;transform:translateY(1px) scale(.995);box-shadow:inset 0 2px 6px #0000001f}.controls[_ngcontent-%COMP%]{margin:1.25rem 0}.controls[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin-bottom:.5rem}"]})};export{S as Home};
