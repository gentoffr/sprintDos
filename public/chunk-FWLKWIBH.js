import{a as F,b as d,c as y,d as M,f as w,g as P,h as E,i as O,k as I,m as R,n as N,o as k}from"./chunk-LYNVSPLS.js";import{D as l,E as t,F as i,G as u,I as b,J as C,O as n,Q as _,da as h,fa as x,ja as S,s as m,u as c,v,z as g}from"./chunk-RZ5QBUIN.js";import"./chunk-LJ5XHLMQ.js";import{h as f}from"./chunk-FK42CRUA.js";function G(o,s){o&1&&(t(0,"div",10),n(1," Ingresa un correo v\xE1lido. "),i())}function T(o,s){o&1&&(t(0,"div",10),n(1," La contrase\xF1a debe tener al menos 6 caracteres. "),i())}function q(o,s){if(o&1&&(t(0,"div",11),n(1),i()),o&2){let r=C();m(),_(" ",r.registerError," ")}}var z=class o{constructor(s,r,e){this.fb=s;this.supabaseService=r;this.auth=e;this.registerForm=this.fb.group({email:["",[d.required,d.email]],password:["",[d.required,d.minLength(6)]]})}registerForm;registerError="";onSubmit(){return f(this,null,function*(){if(this.registerForm.valid){let{email:r,password:e}=this.registerForm.value;var s=yield this.supabaseService.supabase.auth.signUp({email:r,password:e});yield this.auth.login(r,e).then(({error:a})=>{if(a){this.registerError="Error en el login autom\xE1tico: "+a;return}this.auth.redirectToHome()})}else this.registerError="Por favor completa todos los campos correctamente."})}static \u0275fac=function(r){return new(r||o)(c(I),c(N),c(k))};static \u0275cmp=v({type:o,selectors:[["app-registro"]],decls:21,vars:5,consts:[[1,"login-container"],[3,"ngSubmit","formGroup"],["for","email"],["type","email","id","email","formControlName","email","required",""],["style","color: #e63946; font-size: 0.9em;",4,"ngIf"],["for","password"],["type","password","id","password","formControlName","password","required",""],["type","submit",3,"disabled"],["style","color: #e63946; margin-top: 1em;",4,"ngIf"],["routerLink","/login"],[2,"color","#e63946","font-size","0.9em"],[2,"color","#e63946","margin-top","1em"]],template:function(r,e){if(r&1&&(t(0,"div",0)(1,"h2"),n(2,"Registro"),i(),t(3,"form",1),b("ngSubmit",function(){return e.onSubmit()}),t(4,"div")(5,"label",2),n(6,"Correo electr\xF3nico:"),i(),u(7,"input",3),g(8,G,2,0,"div",4),i(),t(9,"div")(10,"label",5),n(11,"Contrase\xF1a:"),i(),u(12,"input",6),g(13,T,2,0,"div",4),i(),t(14,"button",7),n(15,"Registrarse"),i(),g(16,q,2,1,"div",8),t(17,"div"),n(18," \xBFYa tienes una cuenta? "),t(19,"a",9),n(20,"Inicia sesi\xF3n"),i()()()()),r&2){let a,p;m(3),l("formGroup",e.registerForm),m(5),l("ngIf",((a=e.registerForm.get("email"))==null?null:a.invalid)&&((a=e.registerForm.get("email"))==null?null:a.touched)),m(5),l("ngIf",((p=e.registerForm.get("password"))==null?null:p.invalid)&&((p=e.registerForm.get("password"))==null?null:p.touched)),m(),l("disabled",e.registerForm.invalid),m(2),l("ngIf",e.registerError)}},dependencies:[R,w,F,y,M,O,P,E,x,h,S],styles:[".login-container[_ngcontent-%COMP%]{max-width:350px;margin:60px auto;padding:2.5rem 2rem;background:#fff;border-radius:18px;box-shadow:0 6px 32px #00000021;display:flex;flex-direction:column;align-items:center}.login-container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin-bottom:1.5rem;color:#22223b;font-weight:700;font-size:2rem}.login-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:column;gap:1.2rem}.login-container[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:1rem;color:#4a4e69;margin-bottom:.3rem;font-weight:500}.login-container[_ngcontent-%COMP%]   input[type=email][_ngcontent-%COMP%], .login-container[_ngcontent-%COMP%]   input[type=password][_ngcontent-%COMP%]{width:90%;padding:.7rem 1rem;border:1px solid #c9c9c9;border-radius:8px;font-size:1rem;background:#f8f8fa;transition:border .2s}.login-container[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{border:1.5px solid #5f6fff;outline:none}.login-container[_ngcontent-%COMP%]   button[type=submit][_ngcontent-%COMP%]{margin-top:.5rem;padding:.8rem 0;background:linear-gradient(90deg,#5f6fff 60%,#4ea8de);color:#fff;border:none;border-radius:8px;font-size:1.1rem;font-weight:600;cursor:pointer;box-shadow:0 2px 8px #5e6fff14;transition:background .2s,transform .1s}.login-container[_ngcontent-%COMP%]   button[type=submit][_ngcontent-%COMP%]:hover{background:linear-gradient(90deg,#4ea8de 60%,#5f6fff);transform:translateY(-2px) scale(1.03)}"]})};export{z as RegistroComponent};
