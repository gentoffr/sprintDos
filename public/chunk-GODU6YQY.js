import{a as x}from"./chunk-3WFIUOOG.js";import{l as b}from"./chunk-ZZLYJSMT.js";import{a as h,b as v}from"./chunk-E62EBHYI.js";import{F as i,G as n,L as d,S as r,U as p,oa as g,t as u,ua as f,v as a,w as m}from"./chunk-RPINSWGJ.js";import"./chunk-LJ5XHLMQ.js";import{h as s}from"./chunk-FK42CRUA.js";var S=class c{constructor(t,e,o){this.authService=t;this.supabaseService=e;this.paisService=o}user=null;subscriptions=[];usuariosPais={};paises=[];ngOnInit(){return s(this,null,function*(){let t=this.authService.user$.subscribe(e=>{this.user=e});this.subscriptions.push(t),yield this.loadUsuariosPais()})}loadUsuariosPais(){return s(this,null,function*(){try{let t=yield this.supabaseService.getUsers();this.usuariosPais={};for(let e of t)this.usuariosPais[e.email]=e.pais}catch{this.usuariosPais={}}})}getBanderaPais(t){let e=this.usuariosPais[t];return e?`https://flagcdn.com/24x18/${e}.png`:null}getNombrePais(t){let e=this.usuariosPais[t];if(!e)return null;let o=this.paises.find(l=>l.codigo===e);return o?o.nombre:null}ngOnDestroy(){this.subscriptions.forEach(t=>t.unsubscribe())}logout(){this.authService.logout().then(()=>{this.authService.redirectToLogin()})}static \u0275fac=function(e){return new(e||c)(a(v),a(h),a(x))};static \u0275cmp=m({type:c,selectors:[["app-home"]],decls:38,vars:1,consts:[[1,"navbar"],[1,"logo"],[1,"nav-links"],["routerLink","/"],["routerLink","/about"],["routerLink","/contact"],["type","button",3,"click"],[1,"container"],[1,"game-grid"],[1,"game-card"],["routerLink","/Coinflip","type","button",1,"game-card",2,"all","unset","display","block","cursor","pointer","width","100%"],["routerLink","/hi-lo","type","button",1,"game-card",2,"all","unset","display","block","cursor","pointer","width","100%"],["routerLink","/ahorcado","type","button",1,"game-card",2,"all","unset","display","block","cursor","pointer","width","100%"],["routerLink","/preguntados","type","button",1,"game-card",2,"all","unset","display","block","cursor","pointer","width","100%"]],template:function(e,o){e&1&&(i(0,"nav",0)(1,"div",1),r(2,"Dragon bolseta"),n(),i(3,"ul",2)(4,"li"),r(5),n(),i(6,"li")(7,"a",3),r(8,"Home"),n()(),i(9,"li")(10,"a",4),r(11,"Acerca"),n()(),i(12,"li")(13,"a",5),r(14,"Contacto"),n()(),i(15,"li")(16,"button",6),d("click",function(){return o.logout()}),r(17,"Cerrar Sesi\xF3n "),n()()()(),i(18,"main",7)(19,"h1"),r(20,"Bienvenido"),n(),i(21,"div",8)(22,"div",9)(23,"button",10)(24,"h2"),r(25,"Coinflip"),n()()(),i(26,"div",9)(27,"button",11)(28,"h2"),r(29,"Hi-Lo"),n()()(),i(30,"div",9)(31,"button",12)(32,"h2"),r(33,"Ahorcado"),n()()(),i(34,"div",9)(35,"button",13)(36,"h2"),r(37,"Preguntados"),n()()()()()),e&2&&(u(5),p("Hola, ",o.user==null?null:o.user.email))},dependencies:[f,b,g],styles:[".navbar[_ngcontent-%COMP%]{width:100vw;margin:0;box-sizing:border-box;display:flex;justify-content:space-between;align-items:center;background-color:#1e293b;color:#fff;padding:1rem 2rem;box-shadow:0 2px 4px #0003}.logo[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:700}.nav-links[_ngcontent-%COMP%]{list-style:none;justify-content:center;align-items:center;display:flex;gap:1.5rem;margin:0;padding:0}.nav-links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#fff;text-decoration:none;font-weight:500;transition:opacity .2s}.nav-links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{opacity:.7}.container[_ngcontent-%COMP%]{max-width:1000px;margin:2rem auto;padding:0 1rem;text-align:center}.game-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:1.5rem;margin-top:2rem}.game-card[_ngcontent-%COMP%]{background:#f8fafc;border:2px solid #e2e8f0;border-radius:1rem;padding:2rem 1rem;cursor:pointer;box-shadow:0 2px 6px #0000001a;transition:transform .2s,box-shadow .2s}.game-card[_ngcontent-%COMP%]:hover{transform:translateY(-4px);box-shadow:0 4px 12px #00000026}.game-card[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0;font-size:1.3rem;color:#1e293b}button[type=button][_ngcontent-%COMP%]:hover{background:linear-gradient(90deg,#3aa392 60%,#1a997d);transform:translateY(-2px) scale(1.03)}button[type=button][_ngcontent-%COMP%]{margin-top:.5rem;padding:.8rem;background:#a50505;color:#fff;border:none;border-radius:8px;font-size:1.1rem;font-weight:600;cursor:pointer;box-shadow:0 2px 8px #5e6fff14;transition:background .2s,transform .1s}"]})};export{S as Home};
